{
  "permissions": {
    "allow": [
      "Bash(sudo mkdir:*)",
      "Bash(__NEW_LINE_9b3f7931d7d3df8d__ sudo chown -R damon:damon /opt/leveredge)",
      "Bash(chmod:*)",
      "Bash(pip install:*)",
      "Bash(systemctl:*)",
      "Bash(/opt/leveredge/gaia/restore.sh:*)",
      "Bash(curl:*)",
      "Bash(docker network:*)",
      "Bash(docker compose:*)",
      "Bash(sudo chown:*)",
      "Bash(docker run:*)",
      "Bash(docker exec:*)",
      "Bash(docker logs:*)",
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nPhase 0+1: GAIA, Event Bus, Control Plane n8n, ATLAS workflow\n\n- GAIA emergency recovery system \\(gaia.py, restore.sh, emergency-telegram.py\\)\n- Event Bus API \\(FastAPI on port 8099\\) with SQLite backend\n- Control Plane n8n \\(port 5679\\) with PostgreSQL\n- ATLAS orchestrator workflow template\n- Documentation and architecture specs\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(gh auth:*)",
      "Bash(git config:*)",
      "Bash(git branch:*)",
      "Bash(ss:*)",
      "Bash(docker restart:*)",
      "Bash(dig +short:*)",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTA0MzE4fQ.VIpTfJFME-gDrQl8a2wvixmXLF6957L4bCfl-T-dou4\" curl -s -H \"X-N8N-API-KEY: $API_KEY\" http://localhost:5679/api/v1/workflows/NvzRSajH96gwjY7c)",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTA0MzE4fQ.VIpTfJFME-gDrQl8a2wvixmXLF6957L4bCfl-T-dou4\" curl -s -H \"X-N8N-API-KEY: $API_KEY\" http://localhost:5679/api/v1/workflows)",
      "Bash(jq '{name, nodes, connections, settings}' /tmp/atlas-workflow-fixed.json curl -s -X PUT -H 'X-N8N-API-KEY: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTA0MzE4fQ.VIpTfJFME-gDrQl8a2wvixmXLF6957L4bCfl-T-dou4' -H 'Content-Type: application/json' -d @/tmp/atlas-clean-fixed.json http://localhost:5679/api/v1/workflows/NvzRSajH96gwjY7c)",
      "Bash(jq:*)",
      "Bash(find:*)",
      "Bash(docker ps:*)",
      "Bash(docker inspect:*)",
      "Bash(grep:*)",
      "Bash(ls:*)",
      "Bash(docker history:*)",
      "Bash(docker rename:*)",
      "Bash(sudo iptables:*)",
      "Bash(docker build:*)",
      "mcp__n8n-control__check_n8n_health",
      "mcp__n8n-control__get_workflow_details",
      "mcp__n8n-control__backup_workflow",
      "mcp__n8n-control__get_backup",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTA0MzE4fQ.VIpTfJFME-gDrQl8a2wvixmXLF6957L4bCfl-T-dou4\" __NEW_LINE_48b62ea9e96fb7e8__ curl -s -X PATCH \"http://localhost:5678/api/v1/workflows/NvzRSajH96gwjY7c\" -H \"X-N8N-API-KEY: $API_KEY\" -H \"Content-Type: application/json\" -d @/tmp/atlas_update.json)",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTA0MzE4fQ.VIpTfJFME-gDrQl8a2wvixmXLF6957L4bCfl-T-dou4\" __NEW_LINE_a6499ad1a25a1648__ curl -s -X GET \"http://localhost:5678/api/v1/workflows/NvzRSajH96gwjY7c\" -H \"X-N8N-API-KEY: $API_KEY\")",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTA0MzE4fQ.VIpTfJFME-gDrQl8a2wvixmXLF6957L4bCfl-T-dou4\" __NEW_LINE_a3616134ca72dd09__ curl -s -X GET \"http://localhost:5678/api/v1/workflows/NvzRSajH96gwjY7c\" -H \"X-N8N-API-KEY: $API_KEY\")",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTA0MzE4fQ.VIpTfJFME-gDrQl8a2wvixmXLF6957L4bCfl-T-dou4\" __NEW_LINE_faed9d8099713e18__ curl -s -X GET \"http://localhost:5679/api/v1/workflows/NvzRSajH96gwjY7c\" -H \"X-N8N-API-KEY: $API_KEY\")",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTA0MzE4fQ.VIpTfJFME-gDrQl8a2wvixmXLF6957L4bCfl-T-dou4\" __NEW_LINE_fad8b405f91615de__ curl -s -X GET \"http://localhost:5679/api/v1/workflows/NvzRSajH96gwjY7c\" -H \"X-N8N-API-KEY: $API_KEY\")",
      "WebSearch",
      "WebFetch(domain:docs.n8n.io)",
      "mcp__n8n-control__analyze_workflow_execution",
      "mcp__n8n-control__get_failures_with_details",
      "mcp__n8n-control__get_recent_errors",
      "mcp__n8n-control__get_n8n_logs",
      "mcp__n8n-control__list_backups",
      "mcp__n8n-control__restore_workflow",
      "Bash(sleep 5 docker exec n8n-control bash -c 'curl -s -X POST \"\"\"\"http://control-n8n:5678/api/v1/workflows/NvzRSajH96gwjY7c/activate\"\"\"\" -H \"\"\"\"X-N8N-API-KEY: $N8N_API_KEY\"\"\"\"')",
      "Bash(sudo cp:*)",
      "Bash(sudo systemctl daemon-reload:*)",
      "Bash(sudo systemctl enable:*)",
      "Bash(sudo systemctl start:*)",
      "Bash(python3:*)",
      "Bash(pkill:*)",
      "mcp__n8n-control__get_credentials_inventory",
      "mcp__n8n-control__get_workflow_inventory",
      "mcp__n8n-control__get_settings_audit",
      "Bash(env)",
      "Bash(N8N_API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTEyMDk3LCJleHAiOjE3NzEwNTYwMDB9.BlqTqVe8lu5FruxDIufycjeWkVQk5oO15zzlLf0yQrs\")",
      "Bash(__NEW_LINE_4d5ba7adaafc85d4__ curl -s -X POST \"https://control.n8n.leveredgeai.com/api/v1/workflows\" -H \"X-N8N-API-KEY: $N8N_API_KEY\" -H \"Content-Type: application/json\" -d '{\n  \"\"name\"\": \"\"AEGIS - Credential Vault\"\",\n  \"\"nodes\"\": [\n    {\n      \"\"parameters\"\": {\n        \"\"httpMethod\"\": \"\"POST\"\",\n        \"\"path\"\": \"\"aegis\"\",\n        \"\"responseMode\"\": \"\"responseNode\"\",\n        \"\"options\"\": {}\n      },\n      \"\"id\"\": \"\"webhook-aegis\"\",\n      \"\"name\"\": \"\"Webhook\"\",\n      \"\"type\"\": \"\"n8n-nodes-base.webhook\"\",\n      \"\"typeVersion\"\": 2,\n      \"\"position\"\": [250, 300],\n      \"\"webhookId\"\": \"\"aegis-webhook-001\"\"\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"rules\"\": {\n          \"\"rules\"\": [\n            {\"\"value\"\": \"\"list\"\", \"\"output\"\": 0},\n            {\"\"value\"\": \"\"apply\"\", \"\"output\"\": 1},\n            {\"\"value\"\": \"\"usage\"\", \"\"output\"\": 2},\n            {\"\"value\"\": \"\"sync\"\", \"\"output\"\": 3},\n            {\"\"value\"\": \"\"health\"\", \"\"output\"\": 4}\n          ]\n        },\n        \"\"dataType\"\": \"\"string\"\",\n        \"\"value1\"\": \"\"={{ $json.body.action }}\"\"\n      },\n      \"\"id\"\": \"\"switch-action\"\",\n      \"\"name\"\": \"\"Route by Action\"\",\n      \"\"type\"\": \"\"n8n-nodes-base.switch\"\",\n      \"\"typeVersion\"\": 3,\n      \"\"position\"\": [500, 300]\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"method\"\": \"\"GET\"\",\n        \"\"url\"\": \"\"http://host.docker.internal:8012/credentials\"\",\n        \"\"options\"\": {}\n      },\n      \"\"id\"\": \"\"http-list\"\",\n      \"\"name\"\": \"\"List Credentials\"\",\n      \"\"type\"\": \"\"n8n-nodes-base.httpRequest\"\",\n      \"\"typeVersion\"\": 4.2,\n      \"\"position\"\": [750, 100]\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"method\"\": \"\"POST\"\",\n        \"\"url\"\": \"\"http://host.docker.internal:8012/credentials/apply\"\",\n        \"\"sendBody\"\": true,\n        \"\"specifyBody\"\": \"\"json\"\",\n        \"\"jsonBody\"\": \"\"={{ JSON.stringify\\($json.body\\) }}\"\",\n        \"\"options\"\": {}\n      },\n      \"\"id\"\": \"\"http-apply\"\",\n      \"\"name\"\": \"\"Apply Credential\"\",\n      \"\"type\"\": \"\"n8n-nodes-base.httpRequest\"\",\n      \"\"typeVersion\"\": 4.2,\n      \"\"position\"\": [750, 250]\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"method\"\": \"\"GET\"\",\n        \"\"url\"\": \"\"http://host.docker.internal:8012/credentials/usage\"\",\n        \"\"options\"\": {}\n      },\n      \"\"id\"\": \"\"http-usage\"\",\n      \"\"name\"\": \"\"Get Usage\"\",\n      \"\"type\"\": \"\"n8n-nodes-base.httpRequest\"\",\n      \"\"typeVersion\"\": 4.2,\n      \"\"position\"\": [750, 400]\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"method\"\": \"\"GET\"\",\n        \"\"url\"\": \"\"http://host.docker.internal:8012/credentials/sync\"\",\n        \"\"options\"\": {}\n      },\n      \"\"id\"\": \"\"http-sync\"\",\n      \"\"name\"\": \"\"Sync Credentials\"\",\n      \"\"type\"\": \"\"n8n-nodes-base.httpRequest\"\",\n      \"\"typeVersion\"\": 4.2,\n      \"\"position\"\": [750, 550]\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"method\"\": \"\"GET\"\",\n        \"\"url\"\": \"\"http://host.docker.internal:8012/health\"\",\n        \"\"options\"\": {}\n      },\n      \"\"id\"\": \"\"http-health\"\",\n      \"\"name\"\": \"\"Health Check\"\",\n      \"\"type\"\": \"\"n8n-nodes-base.httpRequest\"\",\n      \"\"typeVersion\"\": 4.2,\n      \"\"position\"\": [750, 700]\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"respondWith\"\": \"\"json\"\",\n        \"\"responseBody\"\": \"\"={{ $json }}\"\"\n      },\n      \"\"id\"\": \"\"respond-webhook\"\",\n      \"\"name\"\": \"\"Respond\"\",\n      \"\"type\"\": \"\"n8n-nodes-base.respondToWebhook\"\",\n      \"\"typeVersion\"\": 1.1,\n      \"\"position\"\": [1000, 300]\n    }\n  ],\n  \"\"connections\"\": {\n    \"\"Webhook\"\": {\n      \"\"main\"\": [[{\"\"node\"\": \"\"Route by Action\"\", \"\"type\"\": \"\"main\"\", \"\"index\"\": 0}]]\n    },\n    \"\"Route by Action\"\": {\n      \"\"main\"\": [\n        [{\"\"node\"\": \"\"List Credentials\"\", \"\"type\"\": \"\"main\"\", \"\"index\"\": 0}],\n        [{\"\"node\"\": \"\"Apply Credential\"\", \"\"type\"\": \"\"main\"\", \"\"index\"\": 0}],\n        [{\"\"node\"\": \"\"Get Usage\"\", \"\"type\"\": \"\"main\"\", \"\"index\"\": 0}],\n        [{\"\"node\"\": \"\"Sync Credentials\"\", \"\"type\"\": \"\"main\"\", \"\"index\"\": 0}],\n        [{\"\"node\"\": \"\"Health Check\"\", \"\"type\"\": \"\"main\"\", \"\"index\"\": 0}]\n      ]\n    },\n    \"\"List Credentials\"\": {\n      \"\"main\"\": [[{\"\"node\"\": \"\"Respond\"\", \"\"type\"\": \"\"main\"\", \"\"index\"\": 0}]]\n    },\n    \"\"Apply Credential\"\": {\n      \"\"main\"\": [[{\"\"node\"\": \"\"Respond\"\", \"\"type\"\": \"\"main\"\", \"\"index\"\": 0}]]\n    },\n    \"\"Get Usage\"\": {\n      \"\"main\"\": [[{\"\"node\"\": \"\"Respond\"\", \"\"type\"\": \"\"main\"\", \"\"index\"\": 0}]]\n    },\n    \"\"Sync Credentials\"\": {\n      \"\"main\"\": [[{\"\"node\"\": \"\"Respond\"\", \"\"type\"\": \"\"main\"\", \"\"index\"\": 0}]]\n    },\n    \"\"Health Check\"\": {\n      \"\"main\"\": [[{\"\"node\"\": \"\"Respond\"\", \"\"type\"\": \"\"main\"\", \"\"index\"\": 0}]]\n    }\n  },\n  \"\"settings\"\": {\n    \"\"executionOrder\"\": \"\"v1\"\"\n  }\n}')",
      "Bash(__NEW_LINE_1eeb6db228aa950f__ curl -s -X PATCH \"https://control.n8n.leveredgeai.com/api/v1/workflows/jBxwup9z7qDmlZ73/activate\" -H \"X-N8N-API-KEY: $N8N_API_KEY\")",
      "Bash(__NEW_LINE_f95dd597ddbea164__ curl -s -X POST \"https://control.n8n.leveredgeai.com/api/v1/workflows/jBxwup9z7qDmlZ73/activate\" -H \"X-N8N-API-KEY: $N8N_API_KEY\")",
      "Bash(__NEW_LINE_e48cb12728e891ed__ curl -s -X PUT \"https://control.n8n.leveredgeai.com/api/v1/workflows/jBxwup9z7qDmlZ73\" -H \"X-N8N-API-KEY: $N8N_API_KEY\" -H \"Content-Type: application/json\" -d '{\"\"active\"\": true}')",
      "Bash(__NEW_LINE_44e255e96027c3e5__ curl -s -X PUT \"https://control.n8n.leveredgeai.com/api/v1/workflows/jBxwup9z7qDmlZ73\" -H \"X-N8N-API-KEY: $N8N_API_KEY\" -H \"Content-Type: application/json\" -d @/tmp/aegis_wf_update.json)",
      "Bash(__NEW_LINE_c079e11c5b6feb7a__ curl -s -X POST \"https://control.n8n.leveredgeai.com/api/v1/workflows\" -H \"X-N8N-API-KEY: $N8N_API_KEY\" -H \"Content-Type: application/json\" -d '{\n  \"\"name\"\": \"\"HEPHAESTUS - Builder\"\",\n  \"\"nodes\"\": [\n    {\n      \"\"parameters\"\": {\n        \"\"httpMethod\"\": \"\"POST\"\",\n        \"\"path\"\": \"\"hephaestus\"\",\n        \"\"responseMode\"\": \"\"responseNode\"\",\n        \"\"options\"\": {}\n      },\n      \"\"id\"\": \"\"webhook-heph\"\",\n      \"\"name\"\": \"\"Webhook\"\",\n      \"\"type\"\": \"\"n8n-nodes-base.webhook\"\",\n      \"\"typeVersion\"\": 2,\n      \"\"position\"\": [250, 300],\n      \"\"webhookId\"\": \"\"hephaestus-webhook-001\"\"\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"options\"\": {\n          \"\"systemMessage\"\": \"\"You are HEPHAESTUS, the Builder agent for LeverEdge control plane.\\\\n\\\\nYour responsibilities:\\\\n1. Create n8n workflows based on specifications\\\\n2. Update and modify existing workflows\\\\n3. Request credential application from AEGIS\\\\n4. Validate and activate workflows\\\\n\\\\nCRITICAL RULES:\\\\n- NEVER hardcode API keys or secrets in workflows\\\\n- When a workflow needs credentials, call request_credential tool to ask AEGIS\\\\n- Always log actions to Event Bus\\\\n- Validate before activating\\\\n\\\\nBuild process:\\\\n1. Parse the build request\\\\n2. Create workflow with appropriate nodes\\\\n3. Request credentials from AEGIS if needed\\\\n4. Validate the workflow\\\\n5. Activate if valid\\\\n6. Log and report results\\\\n\\\\nWhen creating workflows, use proper n8n node structure:\\\\n- Each node needs: name, type, typeVersion, position, parameters\\\\n- Connections define the flow between nodes\\\\n- Use native n8n nodes whenever possible\"\"\n        },\n        \"\"promptType\"\": \"\"define\"\",\n        \"\"text\"\": \"\"={{ $json.body.request }}\"\"\n      },\n      \"\"id\"\": \"\"agent-heph\"\",\n      \"\"name\"\": \"\"AI Agent\"\",\n      \"\"type\"\": \"\"@n8n/n8n-nodes-langchain.agent\"\",\n      \"\"typeVersion\"\": 1.7,\n      \"\"position\"\": [500, 300]\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"model\"\": \"\"claude-sonnet-4-20250514\"\",\n        \"\"options\"\": {}\n      },\n      \"\"id\"\": \"\"chat-anthropic\"\",\n      \"\"name\"\": \"\"Anthropic Chat Model\"\",\n      \"\"type\"\": \"\"@n8n/n8n-nodes-langchain.lmChatAnthropic\"\",\n      \"\"typeVersion\"\": 1.2,\n      \"\"position\"\": [350, 500],\n      \"\"credentials\"\": {\n        \"\"anthropicApi\"\": {\n          \"\"id\"\": \"\"NQ4e9Jw74TK8ABhU\"\",\n          \"\"name\"\": \"\"Anthropic account\"\"\n        }\n      }\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"name\"\": \"\"list_workflows\"\",\n        \"\"description\"\": \"\"List all workflows in the n8n instance\"\",\n        \"\"method\"\": \"\"GET\"\",\n        \"\"url\"\": \"\"https://control.n8n.leveredgeai.com/api/v1/workflows\"\",\n        \"\"authentication\"\": \"\"genericCredentialType\"\",\n        \"\"genericAuthType\"\": \"\"httpHeaderAuth\"\",\n        \"\"sendHeaders\"\": true,\n        \"\"headerParameters\"\": {\n          \"\"parameters\"\": [\n            {\"\"name\"\": \"\"X-N8N-API-KEY\"\", \"\"value\"\": \"\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTEyMDk3LCJleHAiOjE3NzEwNTYwMDB9.BlqTqVe8lu5FruxDIufycjeWkVQk5oO15zzlLf0yQrs\"\"}\n          ]\n        }\n      },\n      \"\"id\"\": \"\"tool-list-wf\"\",\n      \"\"name\"\": \"\"List Workflows\"\",\n      \"\"type\"\": \"\"@n8n/n8n-nodes-langchain.toolHttpRequest\"\",\n      \"\"typeVersion\"\": 1.1,\n      \"\"position\"\": [550, 500]\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"name\"\": \"\"create_workflow\"\",\n        \"\"description\"\": \"\"Create a new workflow. Requires: name \\(string\\), nodes \\(array of node objects\\), connections \\(object defining node connections\\)\"\",\n        \"\"method\"\": \"\"POST\"\",\n        \"\"url\"\": \"\"https://control.n8n.leveredgeai.com/api/v1/workflows\"\",\n        \"\"authentication\"\": \"\"genericCredentialType\"\",\n        \"\"genericAuthType\"\": \"\"httpHeaderAuth\"\",\n        \"\"sendHeaders\"\": true,\n        \"\"headerParameters\"\": {\n          \"\"parameters\"\": [\n            {\"\"name\"\": \"\"X-N8N-API-KEY\"\", \"\"value\"\": \"\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTEyMDk3LCJleHAiOjE3NzEwNTYwMDB9.BlqTqVe8lu5FruxDIufycjeWkVQk5oO15zzlLf0yQrs\"\"}\n          ]\n        },\n        \"\"sendBody\"\": true,\n        \"\"specifyBody\"\": \"\"json\"\",\n        \"\"jsonBody\"\": \"\"={\\\\\"\"name\\\\\"\": \\\\\"\"{name}\\\\\"\", \\\\\"\"nodes\\\\\"\": {nodes}, \\\\\"\"connections\\\\\"\": {connections}, \\\\\"\"settings\\\\\"\": {\\\\\"\"executionOrder\\\\\"\": \\\\\"\"v1\\\\\"\"}}\"\"\n      },\n      \"\"id\"\": \"\"tool-create-wf\"\",\n      \"\"name\"\": \"\"Create Workflow\"\",\n      \"\"type\"\": \"\"@n8n/n8n-nodes-langchain.toolHttpRequest\"\",\n      \"\"typeVersion\"\": 1.1,\n      \"\"position\"\": [700, 500]\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"name\"\": \"\"get_workflow\"\",\n        \"\"description\"\": \"\"Get details of a specific workflow by ID. Parameter: workflowId \\(string\\)\"\",\n        \"\"method\"\": \"\"GET\"\",\n        \"\"url\"\": \"\"=https://control.n8n.leveredgeai.com/api/v1/workflows/{workflowId}\"\",\n        \"\"authentication\"\": \"\"genericCredentialType\"\",\n        \"\"genericAuthType\"\": \"\"httpHeaderAuth\"\",\n        \"\"sendHeaders\"\": true,\n        \"\"headerParameters\"\": {\n          \"\"parameters\"\": [\n            {\"\"name\"\": \"\"X-N8N-API-KEY\"\", \"\"value\"\": \"\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTEyMDk3LCJleHAiOjE3NzEwNTYwMDB9.BlqTqVe8lu5FruxDIufycjeWkVQk5oO15zzlLf0yQrs\"\"}\n          ]\n        }\n      },\n      \"\"id\"\": \"\"tool-get-wf\"\",\n      \"\"name\"\": \"\"Get Workflow\"\",\n      \"\"type\"\": \"\"@n8n/n8n-nodes-langchain.toolHttpRequest\"\",\n      \"\"typeVersion\"\": 1.1,\n      \"\"position\"\": [850, 500]\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"name\"\": \"\"request_credential\"\",\n        \"\"description\"\": \"\"Request AEGIS to apply a credential to a workflow node. Parameters: credential_name \\(string\\), workflow_id \\(string\\), node_name \\(string\\)\"\",\n        \"\"method\"\": \"\"POST\"\",\n        \"\"url\"\": \"\"http://host.docker.internal:8012/credentials/apply\"\",\n        \"\"sendBody\"\": true,\n        \"\"specifyBody\"\": \"\"json\"\",\n        \"\"jsonBody\"\": \"\"={\\\\\"\"credential_name\\\\\"\": \\\\\"\"{credential_name}\\\\\"\", \\\\\"\"workflow_id\\\\\"\": \\\\\"\"{workflow_id}\\\\\"\", \\\\\"\"node_name\\\\\"\": \\\\\"\"{node_name}\\\\\"\", \\\\\"\"requested_by\\\\\"\": \\\\\"\"HEPHAESTUS\\\\\"\"}\"\"\n      },\n      \"\"id\"\": \"\"tool-aegis\"\",\n      \"\"name\"\": \"\"Request Credential\"\",\n      \"\"type\"\": \"\"@n8n/n8n-nodes-langchain.toolHttpRequest\"\",\n      \"\"typeVersion\"\": 1.1,\n      \"\"position\"\": [550, 650]\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"name\"\": \"\"log_event\"\",\n        \"\"description\"\": \"\"Log an event to the Event Bus. Parameters: action \\(string\\), target \\(string, optional\\), details \\(object, optional\\)\"\",\n        \"\"method\"\": \"\"POST\"\",\n        \"\"url\"\": \"\"http://host.docker.internal:8099/events\"\",\n        \"\"sendBody\"\": true,\n        \"\"specifyBody\"\": \"\"json\"\",\n        \"\"jsonBody\"\": \"\"={\\\\\"\"source_agent\\\\\"\": \\\\\"\"HEPHAESTUS\\\\\"\", \\\\\"\"action\\\\\"\": \\\\\"\"{action}\\\\\"\", \\\\\"\"target\\\\\"\": \\\\\"\"{target}\\\\\"\", \\\\\"\"details\\\\\"\": {details}}\"\"\n      },\n      \"\"id\"\": \"\"tool-eventbus\"\",\n      \"\"name\"\": \"\"Log Event\"\",\n      \"\"type\"\": \"\"@n8n/n8n-nodes-langchain.toolHttpRequest\"\",\n      \"\"typeVersion\"\": 1.1,\n      \"\"position\"\": [700, 650]\n    },\n    {\n      \"\"parameters\"\": {\n        \"\"respondWith\"\": \"\"json\"\",\n        \"\"responseBody\"\": \"\"={{ {\\\\\"\"agent\\\\\"\": \\\\\"\"HEPHAESTUS\\\\\"\", \\\\\"\"response\\\\\"\": $json.output} }}\"\"\n      },\n      \"\"id\"\": \"\"respond-heph\"\",\n      \"\"name\"\": \"\"Respond\"\",\n      \"\"type\"\": \"\"n8n-nodes-base.respondToWebhook\"\",\n      \"\"typeVersion\"\": 1.1,\n      \"\"position\"\": [750, 300]\n    }\n  ],\n  \"\"connections\"\": {\n    \"\"Webhook\"\": {\n      \"\"main\"\": [[{\"\"node\"\": \"\"AI Agent\"\", \"\"type\"\": \"\"main\"\", \"\"index\"\": 0}]]\n    },\n    \"\"AI Agent\"\": {\n      \"\"main\"\": [[{\"\"node\"\": \"\"Respond\"\", \"\"type\"\": \"\"main\"\", \"\"index\"\": 0}]]\n    },\n    \"\"Anthropic Chat Model\"\": {\n      \"\"ai_languageModel\"\": [[{\"\"node\"\": \"\"AI Agent\"\", \"\"type\"\": \"\"ai_languageModel\"\", \"\"index\"\": 0}]]\n    },\n    \"\"List Workflows\"\": {\n      \"\"ai_tool\"\": [[{\"\"node\"\": \"\"AI Agent\"\", \"\"type\"\": \"\"ai_tool\"\", \"\"index\"\": 0}]]\n    },\n    \"\"Create Workflow\"\": {\n      \"\"ai_tool\"\": [[{\"\"node\"\": \"\"AI Agent\"\", \"\"type\"\": \"\"ai_tool\"\", \"\"index\"\": 0}]]\n    },\n    \"\"Get Workflow\"\": {\n      \"\"ai_tool\"\": [[{\"\"node\"\": \"\"AI Agent\"\", \"\"type\"\": \"\"ai_tool\"\", \"\"index\"\": 0}]]\n    },\n    \"\"Request Credential\"\": {\n      \"\"ai_tool\"\": [[{\"\"node\"\": \"\"AI Agent\"\", \"\"type\"\": \"\"ai_tool\"\", \"\"index\"\": 0}]]\n    },\n    \"\"Log Event\"\": {\n      \"\"ai_tool\"\": [[{\"\"node\"\": \"\"AI Agent\"\", \"\"type\"\": \"\"ai_tool\"\", \"\"index\"\": 0}]]\n    }\n  },\n  \"\"settings\"\": {\n    \"\"executionOrder\"\": \"\"v1\"\"\n  }\n}')",
      "mcp__n8n-control__validate_workflow",
      "Bash(lsof:*)",
      "Bash(kill:*)",
      "Bash(fuser:*)",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTEyMDk3LCJleHAiOjE3NzEwNTYwMDB9.BlqTqVe8lu5FruxDIufycjeWkVQk5oO15zzlLf0yQrs\")",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTEyMDk3LCJleHAiOjE3NzEwNTYwMDB9.BlqTqVe8lu5FruxDIufycjeWkVQk5oO15zzlLf0yQrs\" curl -s -X PATCH \"http://localhost:5679/api/v1/workflows/4zzJ9nFIU4AMc7cp\" -H \"X-N8N-API-KEY: $API_KEY\" -H \"Content-Type: application/json\" -d '{\"\"\"\"active\"\"\"\": true}')",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTEyMDk3LCJleHAiOjE3NzEwNTYwMDB9.BlqTqVe8lu5FruxDIufycjeWkVQk5oO15zzlLf0yQrs\" curl -s \"http://localhost:5679/api/v1/workflows/4zzJ9nFIU4AMc7cp\" -H \"X-N8N-API-KEY: $API_KEY\")",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTEyMDk3LCJleHAiOjE3NzEwNTYwMDB9.BlqTqVe8lu5FruxDIufycjeWkVQk5oO15zzlLf0yQrs\" curl -s -X POST \"http://localhost:5679/api/v1/workflows/4zzJ9nFIU4AMc7cp/activate\" -H \"X-N8N-API-KEY: $API_KEY\")",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTEyMDk3LCJleHAiOjE3NzEwNTYwMDB9.BlqTqVe8lu5FruxDIufycjeWkVQk5oO15zzlLf0yQrs\" curl -s -X PUT \"http://localhost:5679/api/v1/workflows/4zzJ9nFIU4AMc7cp\" -H \"X-N8N-API-KEY: $API_KEY\" -H \"Content-Type: application/json\" -d '{\"\"\"\"active\"\"\"\": true}')",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTEyMDk3LCJleHAiOjE3NzEwNTYwMDB9.BlqTqVe8lu5FruxDIufycjeWkVQk5oO15zzlLf0yQrs\" echo \"Trying GET with API key...\" curl -s -H \"X-N8N-API-KEY: $API_KEY\" \"http://localhost:5679/api/v1/workflows\")",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTEyMDk3LCJleHAiOjE3NzEwNTYwMDB9.BlqTqVe8lu5FruxDIufycjeWkVQk5oO15zzlLf0yQrs\" echo \"Deactivating...\" curl -s -X POST \"http://localhost:5679/api/v1/workflows/4zzJ9nFIU4AMc7cp/deactivate\" -H \"X-N8N-API-KEY: $API_KEY\")",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTEyMDk3LCJleHAiOjE3NzEwNTYwMDB9.BlqTqVe8lu5FruxDIufycjeWkVQk5oO15zzlLf0yQrs\" curl -s -X DELETE \"http://localhost:5679/api/v1/workflows/4zzJ9nFIU4AMc7cp\" -H \"X-N8N-API-KEY: $API_KEY\")",
      "mcp__n8n-control__export_workflows",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nPhase 3: CHRONOS + HADES agents deployed\n\nCHRONOS \\(Backup Manager - Port 8010\\):\n- Scheduled backups of workflows and configurations\n- Pre-deployment snapshots for HEPHAESTUS\n- Retention policies \\(hourly/daily/weekly/monthly\\)\n- Backup integrity verification\n- Event Bus integration\n\nHADES \\(Rollback System - Port 8008\\):\n- Workflow rollback to previous versions\n- Restore from CHRONOS backups\n- Emergency recovery actions \\(deactivate_all, restore_latest\\)\n- Rollback history tracking\n- CHRONOS integration for backup-based restores\n\nFiles Added:\n- control-plane/agents/chronos/chronos.py\n- control-plane/agents/chronos/chronos.service\n- control-plane/agents/chronos/requirements.txt\n- control-plane/agents/hades/hades.py\n- control-plane/agents/hades/hades.service\n- control-plane/agents/hades/requirements.txt\n- PHASE-3-CHRONOS-HADES.md\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTEyMDk3LCJleHAiOjE3NzEwNTYwMDB9.BlqTqVe8lu5FruxDIufycjeWkVQk5oO15zzlLf0yQrs\" __NEW_LINE_478b1436d220cef0__ curl -s -X POST \"http://localhost:5679/api/v1/workflows/Kol4XGNjcqqRb7IK/activate\" -H \"X-N8N-API-KEY: $API_KEY\")",
      "Bash(__NEW_LINE_bf3952a0dae78a90__ echo \"\")",
      "Bash(N8N_API_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiNDMxYWE3Ni0zOTY4LTQwMzEtYWFlYS04Nzk0YmZlYTFkNGYiLCJpc3MiOiJuOG4iLCJhdWQiOiJwdWJsaWMtYXBpIiwiaWF0IjoxNzY4NTEyMDk3LCJleHAiOjE3NzEwNTYwMDB9.BlqTqVe8lu5FruxDIufycjeWkVQk5oO15zzlLf0yQrs\" __NEW_LINE_062d0c7b69d55ddf__ curl -s -X POST \"http://localhost:5679/api/v1/workflows\" -H \"X-N8N-API-KEY: $N8N_API_KEY\" -H \"Content-Type: application/json\" -d @/tmp/chronos-workflow-fixed.json)"
    ]
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [
    "n8n-control"
  ]
}
